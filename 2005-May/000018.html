<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Xpdojo-users] 2 Users Stories
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/xpdojo-users/2005-May/index.html" >
   <LINK REL="made" HREF="mailto:xpdojo-users%40lists.berlios.de?Subject=Re%3A%20%5BXpdojo-users%5D%202%20Users%20Stories&In-Reply-To=%3C4296431F.9090401%40club-internet.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000016.html">
   <LINK REL="Next"  HREF="000012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Xpdojo-users] 2 Users Stories</H1>
    <B>Christophe Thibaut</B> 
    <A HREF="mailto:xpdojo-users%40lists.berlios.de?Subject=Re%3A%20%5BXpdojo-users%5D%202%20Users%20Stories&In-Reply-To=%3C4296431F.9090401%40club-internet.fr%3E"
       TITLE="[Xpdojo-users] 2 Users Stories">christophe-thibaut at club-internet.fr
       </A><BR>
    <I>Thu May 26 23:43:59 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000016.html">[Xpdojo-users] 2 Users Stories
</A></li>
        <LI>Next message: <A HREF="000012.html">[Xpdojo-users] the enoent bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18">[ date ]</a>
              <a href="thread.html#18">[ thread ]</a>
              <a href="subject.html#18">[ subject ]</a>
              <a href="author.html#18">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dominic Williams a &#233;crit:

&gt;<i>
</I>&gt;<i> Christophe, it is already possible to &quot;save&quot; the
</I>&gt;<i> options you use for a project in a file. One way would
</I>&gt;<i> be to create a myproj.xyz file, in which you enter:
</I>&gt;<i>
</I>&gt;<i> xpdojo:test_files(&quot;.&quot;, [{unit_modules_filter, ...
</I>&gt;<i>
</I>&gt;<i> etc.
</I>&gt;<i>
</I>&gt;<i> Then, from the erl shell, call file:eval(&quot;myproj.xyz&quot;). 
</I>
Yes: that's the kind of thing I was looking for before I wrote the 
story. Only I didn't look close enough. My line of thought was :
#1- in order to compile anything I need to set test_files options
#2- if I set options in an erl source, I'll have to compile it, but not 
with test_files because of #1. Too bad.
So the possibility to evaluate some code before compiling anything fits 
very well here. I'll just launch test_files (or the testing_server) from 
my config file, written in Erlang. Great !

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Another way is to define your own, private, shell
</I>&gt;<i> functions. You create a ~/user_default.erl module, with
</I>&gt;<i> a function for each project you develop with xpdojo,
</I>&gt;<i> and/or a function that just returns the options (then
</I>&gt;<i> you can choose to use them with test_files or with the
</I>&gt;<i> continuous server:
</I>&gt;<i>
</I>&gt;<i> -module(user_default).
</I>&gt;<i> -export([proj1/0]).
</I>&gt;<i>
</I>&gt;<i> proj1_options() -&gt;
</I>&gt;<i>   [{unit_modules_filter, adlib:ends_with(&quot;ut&quot;)}].
</I>&gt;<i>
</I>&gt;<i> proj1() -&gt;
</I>&gt;<i>   xpdojo:test_files(&quot;/path/dir&quot;, proj1_options()).
</I>&gt;<i>
</I>&gt;<i> Then, you automatically load it by adding this to your
</I>&gt;<i> ..erlang file:
</I>&gt;<i>
</I>&gt;<i> code:load_abs(&quot;..../user_default&quot;). 
</I>
Sounds nice. I still have to study about code loading and erlang 
configuration, but I'll give a try to this way of doing.

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Now, the functions defined in the module are available
</I>&gt;<i> to you directly (without needing the user_default:
</I>&gt;<i> prefix) from your erlang shell.
</I>&gt;<i>
</I>&gt;<i> How does this compare with your suggested story?
</I>&gt;<i>
</I>&gt;<i> What I like about it is:
</I>&gt;<i>
</I>&gt;<i> 1) we don't need to invent a syntax for a configuration
</I>&gt;<i>    file: the syntax is pure Erlang. 
</I>
Yeah that's what bothered me (&quot;the best should be to stay in erlang 
syntax&quot;). Both solutions you explained solve it nicely.

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2) it's completely flexible.
</I>&gt;<i>
</I>&gt;<i> 3) Erlang programmers already know about it.
</I>&gt;<i>
</I>&gt;<i> Working in the Java world for the last five months is
</I>&gt;<i> making me allergic to configuration files ;-) 
</I>
I don't like much config files too. We tend to forget about them, and 
they are often heterogeneous.
That makes for 4 very compelling arguments in favor or *not* creating a 
special config file (and the supplementary code to parse it :-) .

&gt;<i> But, if
</I>&gt;<i> you still think there is value there, we can always add
</I>&gt;<i> it to the list of stories, although I personally
</I>&gt;<i> would give it a very low priority. 
</I>
Oh no, I think its OK to tear the story card :-) The thorn has just gone 
away.

&gt;<i>
</I>&gt;<i> And don't let that discourage you from making other
</I>&gt;<i> suggestions! 
</I>
Given the lots of advice and information in your responses to my 
suggestions, I'll certainly go on running the risk ;-)  I have no 
problem with discarding my own ideas, especially when it's because I've 
learned something or been given a better idea :-)

Thank you for the time you spent on the problem.
Regards,
Christophe


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000016.html">[Xpdojo-users] 2 Users Stories
</A></li>
	<LI>Next message: <A HREF="000012.html">[Xpdojo-users] the enoent bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18">[ date ]</a>
              <a href="thread.html#18">[ thread ]</a>
              <a href="subject.html#18">[ subject ]</a>
              <a href="author.html#18">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/xpdojo-users">More information about the Xpdojo-users
mailing list</a><br>
</body></html>
